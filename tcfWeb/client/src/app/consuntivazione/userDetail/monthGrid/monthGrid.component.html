<p-dataTable [value]="consuntivi" scrollable="true" >
    <p-header>
        <div>{{monthSelected}}/{{yearSelected}}</div>
    </p-header>
    <p-column field="isEditable" header="Action" [editable]="isEditable" [frozen]="true">
        <ng-template let-col let-row="rowData" let-index="rowIndex" pTemplate="body">
            <span>
                <i class="fa fa-pencil-square-o modifica" aria-hidden="true" (click)="edit(row,index)"></i>
                <i class="fa fa-trash-o elimina" aria-hidden="true" (click)="delete(row,index)"></i>
            </span>
        </ng-template>
    </p-column>

    <p-column field="client"    header="Cliente" [style]="{'width':'150px'}" frozen="true"></p-column>
    <p-column field="ambito"    header="Ambito" [style]="{'width':'80px'}" frozen="true"></p-column>
    <p-column field="area"      header="Macro-Area" [style]="{'width':'100px'}" frozen="true"></p-column>
    <p-column field="activity"  header="Attività" [style]="{'width':'250px'}" frozen="true"></p-column>
    <p-column field="deliverable" header="Tipo Deliverable" [style]="{'width':'80px'}" frozen="true"></p-column>
    
    <p-column *ngFor="let col of cols" [field]="col.field" [header]="col.header" [style]="{'width':'30px'}"></p-column>

    <p-footer>
        <div class="ui-helper-clearfix" style="width:100%"><button type="button" pButton icon="fa-plus" style="float:left" (click)="showDialogToAdd()" label="Add"></button></div>
    </p-footer>

</p-dataTable>

<p-dialog header="Activity Details" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true">
    <div class="ui-grid ui-grid-responsive ui-fluid" *ngIf="rowConsuntivo">
        <div class="ui-grid-row">
            <div class="ui-grid-col-4"><label for="client">Cliente</label></div>
            <div class="ui-grid-col-8"><input pInputText id="client" [(ngModel)]="rowConsuntivo.client" /></div>
        </div>
        <div class="ui-grid-row">
            <div class="ui-grid-col-4"><label for="ambito">Ambito</label></div>
            <div class="ui-grid-col-8"><input pInputText id="ambito" [(ngModel)]="rowConsuntivo.ambito" /></div>
        </div>
        <div class="ui-grid-row">
            <div class="ui-grid-col-4"><label for="area">Macro Area</label></div>
            <div class="ui-grid-col-8"><input pInputText id="area" [(ngModel)]="rowConsuntivo.area" /></div>
        </div>
        <div class="ui-grid-row">
            <div class="ui-grid-col-4"><label for="activity">Attività</label></div>
            <div class="ui-grid-col-8"><input pInputText id="activity" [(ngModel)]="rowConsuntivo.activity" /></div>
        </div>
        <div class="ui-grid-row">
            <div class="ui-grid-col-4"><label for="deliverable">Deliverable</label></div>
            <div class="ui-grid-col-8"><input pInputText id="deliverable" [(ngModel)]="rowConsuntivo.deliverable" /></div>
        </div>
    </div>
    <p-footer>
        <div class="ui-dialog-buttonpane ui-helper-clearfix">
            <button type="button" pButton icon="fa-close" (click)="delete()" label="Delete"></button>
            <button type="button" pButton icon="fa-check" (click)="save()" label="Save"></button>
        </div>
    </p-footer>
</p-dialog>